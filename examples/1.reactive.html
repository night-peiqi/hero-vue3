<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="../packages/reactivity/dist/reactivity.global.js"></script>
  </head>
  <body>
    <div id="app"></div>

    <script>
      const { reactive, readonly, shallowReactive, effect, ref, toRef, toRefs, computed } =
        HeroVue3Reactivity;
      // const state = reactive({
      //   count: 0,
      //   list: [1, 2, 3],
      //   likes: { anny: 'anny', xiaomei: 'xiaomei', wifi: { a: 1, b: 2 } }
      // });

      const myName = ref('neight peiqi');

      // const obj = { a: 1, b: 2 };

      // const a = toRef(obj, 'a');
      // console.log('a', a, obj);

      // const { a, b } = toRefs(obj);

      const cc = computed(() => {
        console.log('computed 执行', myName.value);
        return myName.value + ' computed';
      });

      effect(() => {
        console.log('使用计算属性的地方', cc.value);
        app.innerHTML = '' + cc.value;
      });

      effect(
        () => {
          console.log('myName.value', myName.value);
        },
        { aa: 'aa' }
      );

      // effect(() => {
      //   app.innerHTML = myName.value + a.value;
      // });

      // effect(() => {
      //   app.innerHTML = '' + state.list[2] + state.count;
      //   // app.innerHTML = state.likes.wifi.a;
      //   // app.innerHTML = state.count;
      // });

      setTimeout(() => {
        // state.list[20] = 20;
        // state.count = 1;
        // state.list[2] = 4;
        // state.likes.wifi.a = 3;
        // state.likes.anny = 'night peiqi';
        // myName.value = '熬夜佩奇';
        // a.value = 'Hello--';
        // b.value = 'toRefs';
        myName.value = '熬夜佩奇';
        console.log('cc4', cc.value);
      }, 1000);
    </script>
  </body>
</html>
